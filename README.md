# MovieSofa(영화인들의 편안한 대화공간)
첫 프로젝트로 데이터베이스 연결, 데이터의 흐름, 개발언어 이해에 목표를 두었습니다.
프로젝트 내에서 검색기능, 글쓰기/수정/삭제, 댓글쓰기/삭제/수정, 리뷰목록, 페이징을 구현하였습니다.

# 기능구현 설명
## 1. 검색기능
- SELECT SQL 구문 사용시 LIKE 검색을 통해 구현하였습니다. 검색 키워드 값을 남기기위해 해당 값을 받아 request객체에 파라미터로 키워드를 다시 넘겨 주었습니다. 이때 당시엔 검색한 결과값을 페이징 하는 법을 몰랐습니다. 이후 2차 프로젝트엔 검색 후 페이징까지 되는 법을 알게 되었습니다.

## 2. 글 쓰기/수정/삭제/보기
- request 객체를 이용하여 rest방식으로 데이터를 주고 받았습니다. 초기엔 MVC 패턴화 하는 방법을 몰라 VIEW와 MODEL이 함께 쓰여져 코드가 뒤죽박죽 이었습니다. 하나의 JSP 파일에서 JDBC 연결을 하고 MySQL로부터 데이터를 받아와 곧바로 출력하였습니다. 때문에 간단한 프로젝트였음에도 불구하고 150줄을 넘기긴 일쑤였습니다.

## 3. 댓글 삭제/수정/등록
- AJAX를 사용했습니다. JDBC를 연결한 JSP파일로 URL경로를 지정해 값을 JSON형태로 받아왔습니다. JSONObject를 생성해 각 ROW에 대한 데이터를 넣고, 배열을 저장할 땐 JSONArray에 JSONObject를 순서대로 넣어 JSON으로 얻어왔고, 통신 성공 후 해당 JSON을 JavaScript 객체로 parse하여 jQuery를 사용해 HTML문서내에 뿌렸습니다. 이 댓글은 글의 글번호로 엮인 외래키였습니다. 초반에 아무것도 모르고 글 삭제를 구현했다가 외래키 제약조건에 위배되어 오류가 발생하여 알게 되었습니다. 이후엔 회원탈퇴, 글삭제 등 삭제 관련 테이블을 구성하거나 기능구현을 할 때면, 관계에 주의해 SQL문을 작성했습니다.

## 4. 리뷰목록/ 페이징
- 데이터베이스에 영화정보들중 포스터, 영화제목을 가져와 JSP 내에서 JDBC 연결 후 뿌렸습니다. 페이징은 (전체 게시물수/한페이지에 보여줄 게시물 수)에서 올림한 값을 전체 페이지수로 잡았습니다. 그리고 한 페이지에 보여줄 (게시물 수 x 현재페이지)는 게시물시작번호가 되었습니다.

## 느낀점
- 여러모로 부족함이 많았습니다. 당시엔 정말 열정있게 했음에도 불구하고 지금 보면 난해하기만 합니다. 하지만 이 당시 잘 했다고 생각되는 점이 있습니다. 모든 개념을 머릿속에 그리려고 하였습니다. 데이터가 어떻게 전달되는지 어떻게 생겼는지, 구조는 어떤지를 늘 상기하려 했습니다. 그 결과, 작은 개념이지만 해당 프로젝트에 사용된 개념은 모두 제것으로 만들 수 있었습니다.
